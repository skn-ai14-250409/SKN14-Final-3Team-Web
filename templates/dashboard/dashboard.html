{% extends 'base.html' %}
{% load static %}

{% block title %}KB국민은행 직원 업무시스템 - 대시보드{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
    <link rel="stylesheet" href="{% static 'css/calendar.css' %}">
    <link rel="stylesheet" href="{% static 'css/exchange_rate.css' %}">
    <link rel="stylesheet" href="{% static 'css/interest_rate.css' %}">
    <link rel="stylesheet" href="{% static 'css/todo.css' %}">
    <link rel="stylesheet" href="{% static 'css/transaction_status.css' %}">
    <link rel="stylesheet" href="{% static 'css/notification.css' %}">
    <!-- 서브대시보드 위젯 CSS -->
    <link rel="stylesheet" href="{% static 'css/goal_achievement.css' %}">
    <link rel="stylesheet" href="{% static 'css/recent_activity.css' %}">
    <link rel="stylesheet" href="{% static 'css/work_distribution.css' %}">
    <link rel="stylesheet" href="{% static 'css/customer_satisfaction.css' %}">
{% endblock %}

{% block content %}
<!-- Dashboard Container -->
<div class="dashboard_container">
    <div class="dashboard_content">
        <!-- Team Channel Column (팀 채팅) -->
        <div class="team_channel_column">
            <!-- Team Chat Header -->
            <div class="team_chat_header">
                <div class="team_icon">
                    <i class="bi bi-people-fill"></i>
                </div>
                <div class="team_info">
                    <h2>팀 채팅</h2>
                    <p>KB국민은행</p>
                </div>
            </div>

            <!-- Channels Section -->
            <div class="channels_section">
                <h3>채널</h3>
                <div class="channel_list">
                    <div class="channel_item active">
                        <span class="channel_icon">#</span>
                        <span class="channel_name">일반</span>
                    </div>
                    <div class="channel_item">
                        <span class="channel_icon">#</span>
                        <span class="channel_name">공지사항</span>
                        <span class="notification_badge">2</span>
                    </div>
                    <div class="channel_item">
                        <span class="channel_icon">#</span>
                        <span class="channel_name">영업팀</span>
                        <span class="notification_badge">1</span>
                    </div>
                    <div class="channel_item">
                        <span class="channel_icon">#</span>
                        <span class="channel_name">고객지원</span>
                    </div>
                </div>
            </div>

            <!-- Team Members Section -->
            <div class="members_section">
                <h3>팀원</h3>
                <div class="member_list">
                    <div class="member_item">
                        <div class="member_avatar">
                            <span class="avatar_text">김</span>
                            <span class="status_dot grey"></span>
                        </div>
                        <div class="member_info">
                            <span class="member_name">김동현</span>
                            <span class="member_dept">기획팀</span>
                        </div>
                        <div class="member_action">
                            <i class="bi bi-chat-dots"></i>
                        </div>
                    </div>
                    <div class="member_item">
                        <div class="member_avatar">
                            <span class="avatar_text">이</span>
                            <span class="status_dot green"></span>
                        </div>
                        <div class="member_info">
                            <span class="member_name">이수미</span>
                            <span class="member_dept">영업부</span>
                        </div>
                        <div class="member_action">
                            <i class="bi bi-chat-dots"></i>
                        </div>
                    </div>
                    <div class="member_item">
                        <div class="member_avatar">
                            <span class="avatar_text">김</span>
                            <span class="status_dot yellow"></span>
                        </div>
                        <div class="member_info">
                            <span class="member_name">김의령</span>
                            <span class="member_dept">대출팀</span>
                        </div>
                        <div class="member_action">
                            <i class="bi bi-chat-dots"></i>
                        </div>
                    </div>
                    <div class="member_item">
                        <div class="member_avatar">
                            <span class="avatar_text">조</span>
                            <span class="status_dot red"></span>
                        </div>
                        <div class="member_info">
                            <span class="member_name">조성재</span>
                            <span class="member_dept">고객상담</span>
                        </div>
                        <div class="member_action">
                            <i class="bi bi-chat-dots"></i>
                        </div>
                    </div>
                    <div class="member_item">
                        <div class="member_avatar">
                            <span class="avatar_text">이</span>
                            <span class="status_dot green"></span>
                        </div>
                        <div class="member_info">
                            <span class="member_name">이승혁</span>
                            <span class="member_dept">IT팀</span>
                        </div>
                        <div class="member_action">
                            <i class="bi bi-chat-dots"></i>
                        </div>
                    </div>
                    <div class="member_item">
                        <div class="member_avatar">
                            <span class="avatar_text">최</span>
                            <span class="status_dot red"></span>
                        </div>
                        <div class="member_info">
                            <span class="member_name">최명진</span>
                            <span class="member_dept">기획팀</span>
                        </div>
                        <div class="member_action">
                            <i class="bi bi-chat-dots"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Left Half - Chat Container -->
            <div class="chat_container">
                <!-- Chat Header -->
                <div class="chat_header">
                    <div class="chat_title">
                        <span class="channel_icon">#</span>
                        <span class="channel_name">일반</span>
                    </div>
                </div>
    
                <!-- Chat Messages -->
                <div class="chat_messages">
                    <div class="message">
                        <div class="message_info">
                            <span class="sender_name">김동현</span>
                            <span class="message_time">14:23</span>
                        </div>
                        <div class="message_content">오늘까지 산출물 제출 부탁드립니다.</div>
                    </div>
                    <div class="message">
                        <div class="message_info">
                            <span class="sender_name">이수미</span>
                            <span class="message_time">14:28</span>
                        </div>
                        <div class="message_content">스크럼 회의 준비해주세요.</div>
                    </div>
                    <div class="message">
                        <div class="message_info">
                            <span class="sender_name">김의령</span>
                            <span class="message_time">14:25</span>
                        </div>
                        <div class="message_content">대출 승인 건 처리 완료했습니다.</div>
                    </div>
                    <div class="message">
                        <div class="message_info">
                            <span class="sender_name">조성재</span>
                            <span class="message_time">14:30</span>
                        </div>
                        <div class="message_content">상담 내용 확인 부탁드립니다.</div>
                    </div>
                    <div class="message">
                        <div class="message_info">
                            <span class="sender_name">이승혁</span>
                            <span class="message_time">14:32</span>
                        </div>
                        <div class="message_content">시스템 업데이트 15분 후 시작됩니다.</div>
                    </div>
                </div>
    
                <!-- Bottom Navigation -->
                <div class="bottom_nav">
                    <button class="nav_btn">
                        <i class="bi bi-telephone-fill"></i>
                    </button>
                    <button class="nav_btn">
                        <i class="bi bi-camera-video-fill"></i>
                    </button>
                    <button class="nav_btn">
                        <i class="bi bi-gear-fill"></i>
                    </button>
                </div>
    
                <!-- Message Input -->
                <div class="message_input_area">
                    <input type="text" placeholder="메시지 입력..." class="message_input">
                    <button class="send_btn">
                        <i class="bi bi-send-fill"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="second_column">
            <!-- User Profile Card -->
            <div class="user_profile_card">
                <div class="user_top_row">
                    <div class="user_avatar">
                        <i class="bi bi-person-fill"></i>
                    </div>
                    <div class="user_info">
                        <h2 class="user_name">김의령</h2>
                        <p class="user_position">사원</p>
                    </div>
                </div>
                <div class="user_dept_container">
                    <p class="user_dept">영업부 / 사번: KB2024001</p>
                </div>
            </div>
            
            <!-- Navigation Menu -->
            <div class="nav_menu">
                <div class="nav_item">
                    <i class="bi bi-file-text"></i>
                    <span>보인 사전</span>
                </div>
                <div class="nav_item">
                    <i class="bi bi-gear"></i>
                    <span>정보 수정</span>
                </div>
                <div class="nav_item">
                    <i class="bi bi-person-gear"></i>
                    <span>계정 관리</span>
                </div>
                <div class="nav_item">
                    <i class="bi bi-telephone"></i>
                    <span>사내 연락처</span>
                </div>
            </div>
            
            <!-- Today's Tasks -->
            <div class="tasks_section">
                {% include 'dashboard/todo.html' %}
            </div>
        </div>
        <div class="third_column">
            <div class="notice_container">
                <div class="notice_icon">
                    <i class="bi bi-bell"></i>
                </div>
                <div class="notice_label">
                    중요
                </div>
                <div class="notice_content">
                    2024년 2분기 실적 보고서 제출 안내
                </div>
            </div>
            <!-- 2번째 줄 -->
            <div class="second_row">
                <div class="main_cards_container">
                     <div class="search_product_container">
                         <div class="icon">
                             <i class="bi bi-bank"></i>
                         </div>
                         <div class="title">
                             금융상품 조회 
                         </div>
                         <div class="description">
                             대출, 예금, 펀드 정보
                         </div>
                     </div>
                     <div class="search_customer_container">
                         <div class="icon">
                             <i class="bi bi-people"></i>
                         </div>
                         <div class="title">
                             개인/기업 고객 조회
                         </div>
                         <div class="description">
                             고객 계좌 및 거래 현황
                         </div>
                     </div>
                     <div class="report_management_container">
                         <div class="icon">
                             <i class="bi bi-file-earmark-text"></i>
                         </div>
                         <div class="title">
                             보고서 관리
                         </div>
                         <div class="description">
                             각종 보고서 작성 및 관리
                         </div>
                     </div>
                     <div class="chatbot_container">
                         <div class="icon">
                             <i class="bi bi-robot"></i>
                         </div>
                         <div class="title">
                             KB 업무 지원 챗봇
                         </div>
                         <div class="description">
                             업무 관련 질문 및 지원
                         </div>
                     </div>
                     <div class="credit_assessment_container">
                         <div class="icon">
                             <i class="bi bi-shield-check"></i>
                         </div>
                         <div class="title">
                             개인/기업 여신심사
                         </div>
                         <div class="description">
                             AI 기반 고객 심사 및 분석
                         </div>
                     </div>
                     <div class="schedule_management_container">
                         <div class="icon">
                             <i class="bi bi-calendar3"></i>
                         </div>
                         <div class="title">
                             일정 관리
                         </div>
                         <div class="description">
                             업무 일정 및 미팅 관리
                         </div>
                     </div>

                </div>
                <div class="calendar_container">
                    {% include 'dashboard/calendar.html' %}
                </div>
            </div>
            
            <!-- 3번째 줄 -->
            <div class="third_row">
                <div class="exchange_rate_container">
                    {% include 'dashboard/exchange_rate.html' %}
                </div>
                <div class="interest_rate_container">
                    {% include 'dashboard/interest_rate.html' %}
                </div>
            </div>

            <div class="fourth_row">
                <div class="transaction_status_container">
                    {% include 'dashboard/transaction_status.html' %}
                </div>
                <div class="notification_container">
                    {% include 'dashboard/notification.html' %}
                </div>
            </div>
            
        </div>
        <div class="fourth_column">
            <!-- 목표 달성률 카드 -->
            <div class="goal_achievement_card">
                <div class="card_header">
                    <div class="header_icon">
                        <i class="bi bi-target"></i>
                    </div>
                    <div class="header_title">목표 달성률</div>
                </div>
                <div class="goal_items">
                    <div class="goal_item">
                        <div class="goal_label">대출</div>
                        <div class="progress_bar">
                            <div class="progress_fill" style="width: 78%"></div>
                        </div>
                        <div class="goal_percentage">78%</div>
                    </div>
                    <div class="goal_item">
                        <div class="goal_label">예금</div>
                        <div class="progress_bar">
                            <div class="progress_fill" style="width: 92%"></div>
                        </div>
                        <div class="goal_percentage">92%</div>
                    </div>
                    <div class="goal_item">
                        <div class="goal_label">신규</div>
                        <div class="progress_bar">
                            <div class="progress_fill" style="width: 65%"></div>
                        </div>
                        <div class="goal_percentage">65%</div>
                    </div>
                </div>
            </div>
            
            <!-- 최근 활동 카드 -->
            <div class="recent_activity_card">
                <div class="card_header">
                    <div class="header_icon">
                        <i class="bi bi-activity"></i>
                    </div>
                    <div class="header_title">최근 활동</div>
                </div>
                <div class="activity_list">
                    <div class="activity_item">
                        <div class="activity_icon success">
                            <i class="bi bi-check-circle"></i>
                        </div>
                        <div class="activity_content">
                            <div class="activity_title">고객 상담 완료</div>
                            <div class="activity_time">5분 전</div>
                        </div>
                    </div>
                    <div class="activity_item">
                        <div class="activity_icon warning">
                            <i class="bi bi-exclamation-triangle"></i>
                        </div>
                        <div class="activity_content">
                            <div class="activity_title">승인 대기</div>
                            <div class="activity_time">15분 전</div>
                        </div>
                    </div>
                    <div class="activity_item">
                        <div class="activity_icon info">
                            <i class="bi bi-info-circle"></i>
                        </div>
                        <div class="activity_content">
                            <div class="activity_title">새로운 예금 상품</div>
                            <div class="activity_time">1시간 전</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 업무 현황 카드 -->
            <div class="work_status_card">
                <div class="card_header">
                    <div class="header_icon">
                        <i class="bi bi-pie-chart"></i>
                    </div>
                    <div class="header_title">업무 현황</div>
                </div>
                <div class="work_stats">
                    <div class="stat_item">
                        <div class="stat_icon">
                            <i class="bi bi-people"></i>
                        </div>
                        <div class="stat_info">
                            <div class="stat_value">45</div>
                            <div class="stat_label">대출 상담</div>
                        </div>
                    </div>
                    <div class="stat_item">
                        <div class="stat_icon">
                            <i class="bi bi-bank"></i>
                        </div>
                        <div class="stat_info">
                            <div class="stat_value">32</div>
                            <div class="stat_label">예금 상담</div>
                        </div>
                    </div>
                    <div class="stat_item">
                        <div class="stat_icon">
                            <i class="bi bi-credit-card"></i>
                        </div>
                        <div class="stat_info">
                            <div class="stat_value">18</div>
                            <div class="stat_label">신용 상담</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/dashboard.js' %}"></script>
<script src="{% static 'js/calendar.js' %}"></script>
<script src="{% static 'js/exchange_rate.js' %}"></script>
<script src="{% static 'js/interest_rate.js' %}"></script>
<script src="{% static 'js/todo.js' %}"></script>
<script src="{% static 'js/transaction_status.js' %}"></script>
<script src="{% static 'js/notification.js' %}"></script>
{% endblock %}