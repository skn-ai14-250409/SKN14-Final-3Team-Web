<!-- Django Calendar Container -->
<div class="django-calendar">
    <div class="calendar-header">
        <button class="calendar-btn prev-btn" onclick="changeMonth(-1)">
            <i class="bi bi-chevron-left"></i>
        </button>
        <h4 class="calendar-month">{{ year }}년 {{ month }}월</h4>
        <button class="calendar-btn next-btn" onclick="changeMonth(1)">
            <i class="bi bi-chevron-right"></i>
        </button>
    </div>
    
    <div class="calendar-weekdays">
        <div class="weekday">월</div>
        <div class="weekday">화</div>
        <div class="weekday">수</div>
        <div class="weekday">목</div>
        <div class="weekday">금</div>
        <div class="weekday">토</div>
        <div class="weekday">일</div>
    </div>
    
    <div class="calendar-days" id="calendar-days">
        {% for week in calendar %}
            {% for day in week %}
                {% if day == 0 %}
                    <div class="calendar-day empty"></div>
                {% else %}
                    {% with date_str=year|stringformat:'s'|add:'-'|add:month|stringformat:'02d'|add:'-'|add:day|stringformat:'02d' %}
                    {% now "Y-m-d" as today %}
                    <div class="calendar-day {% if date_str == today %}today{% endif %}" data-date="{{ date_str }}">
                        <span class="day-number"">{{ day }}</span>
                        <!-- 디버깅: {{ date_str }} vs {{ today }} -->
                    </div>
                    {% endwith %}
                {% endif %}
            {% endfor %}
        {% endfor %}
    </div>
</div>
